<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />



<title>Intro Examples to grizbayr</title>

<script>// Pandoc 2.9 adds attributes on both header and div. We remove the former (to
// be compatible with the behavior of Pandoc < 2.8).
document.addEventListener('DOMContentLoaded', function(e) {
  var hs = document.querySelectorAll("div.section[class*='level'] > :first-child");
  var i, h, a;
  for (i = 0; i < hs.length; i++) {
    h = hs[i];
    if (!/^h[1-6]$/i.test(h.tagName)) continue;  // it should be a header h1-h6
    a = h.attributes;
    while (a.length > 0) h.removeAttribute(a[0].name);
  }
});
</script>

<style type="text/css">
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
</style>



<style type="text/css">
code {
white-space: pre;
}
.sourceCode {
overflow: visible;
}
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
{ counter-reset: source-line 0; }
pre.numberSource code > span
{ position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
{ content: counter(source-line);
position: relative; left: -1em; text-align: right; vertical-align: baseline;
border: none; display: inline-block;
-webkit-touch-callout: none; -webkit-user-select: none;
-khtml-user-select: none; -moz-user-select: none;
-ms-user-select: none; user-select: none;
padding: 0 4px; width: 4em;
color: #aaaaaa;
}
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa; padding-left: 4px; }
div.sourceCode
{ }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } 
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.at { color: #7d9029; } 
code span.bn { color: #40a070; } 
code span.bu { color: #008000; } 
code span.cf { color: #007020; font-weight: bold; } 
code span.ch { color: #4070a0; } 
code span.cn { color: #880000; } 
code span.co { color: #60a0b0; font-style: italic; } 
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.do { color: #ba2121; font-style: italic; } 
code span.dt { color: #902000; } 
code span.dv { color: #40a070; } 
code span.er { color: #ff0000; font-weight: bold; } 
code span.ex { } 
code span.fl { color: #40a070; } 
code span.fu { color: #06287e; } 
code span.im { color: #008000; font-weight: bold; } 
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.kw { color: #007020; font-weight: bold; } 
code span.op { color: #666666; } 
code span.ot { color: #007020; } 
code span.pp { color: #bc7a00; } 
code span.sc { color: #4070a0; } 
code span.ss { color: #bb6688; } 
code span.st { color: #4070a0; } 
code span.va { color: #19177c; } 
code span.vs { color: #4070a0; } 
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } 
</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    var j = 0;
    while (j < rules.length) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") {
        j++;
        continue;
      }
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') {
        j++;
        continue;
      }
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">Intro Examples to grizbayr</h1>



<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="fu">library</span>(grizbayr)</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span></code></pre></div>
<div id="about-the-package" class="section level2">
<h2>About the Package</h2>
<p>Bayesian Inference is a method of statistical inference that can be
used in the analysis of observed data from marketing tests. Bayesian
updates start with a prior distribution (prior probable information
about the environment) and a likelihood function (an expected
distribution from which the samples are drawn). Then, given some
observed data, the prior can be multiplied by the likelihood of the data
to produce a posterior distribution of probabilities. At the core of all
of this is Bayes’ Rule.</p>
<p><span class="math display">\[ P(A\ |\ Data) \sim P(Data\ |\ A) \cdot
P(A)\]</span> This package is intended to abstract the math of the
conjugate prior update rules to provide 3 pieces of information for a
user:</p>
<ol style="list-style-type: decimal">
<li>Win Probability (overall and vs baseline)</li>
<li>Value Remaining</li>
<li>Lift vs. Control</li>
</ol>
</div>
<div id="usage" class="section level2">
<h2>Usage</h2>
<p>Select which piece of information you would like to calculate.</p>
<table>
<thead>
<tr class="header">
<th>Metric</th>
<th>Function Call</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>All Below Metrics</td>
<td><code>calculate_all_metrics()</code></td>
</tr>
<tr class="even">
<td>Win Probability</td>
<td><code>estimate_win_prob()</code></td>
</tr>
<tr class="odd">
<td>Value Remaining</td>
<td><code>estimate_value_remaining()</code></td>
</tr>
<tr class="even">
<td>Lift vs. Control</td>
<td><code>estimate_lift_vs_baseline()</code></td>
</tr>
<tr class="odd">
<td>Win Probability vs. Baseline</td>
<td><code>estimate_win_prob_vs_baseline()</code></td>
</tr>
</tbody>
</table>
<p>If you would like to calculate all the metrics then use
<code>calculate_all_metrics()</code>. This is a slightly more efficient
implementation since it only needs to sample from the posterior once for
all 4 calculations instead of once for each metric.</p>
<div id="create-an-input-dataframe-or-tibble" class="section level3">
<h3>Create an Input Dataframe or Tibble</h3>
<p>All of these functions require a very specific tibble format.
However, the same tibble can be used in all metric calculations. A
tibble is used here because it has the additional check that all column
lengths are the same. A tibble of this format can also conveniently be
created using dplyr’s <code>group_by() %&gt;% summarise()</code>
sequence of functions.</p>
<p>The columns in the following table are required if there is an
<code>X</code> in the box for the distribution. (Int columns can also be
dbl due to R coercian)</p>
<table style="width:100%;">
<colgroup>
<col width="10%" />
<col width="7%" />
<col width="9%" />
<col width="7%" />
<col width="7%" />
<col width="9%" />
<col width="7%" />
<col width="6%" />
<col width="9%" />
<col width="8%" />
<col width="7%" />
<col width="8%" />
</colgroup>
<thead>
<tr class="header">
<th>Distribution Type</th>
<th align="center">option_name (char)</th>
<th align="center">sum_impressions (int)</th>
<th align="center">sum_clicks (int)</th>
<th align="center">sum_sessions (int)</th>
<th align="center">sum_conversions (dbl)</th>
<th align="center">sum_revenue (dbl)</th>
<th align="center">sum_cost (dbl)</th>
<th align="center">sum_conversions_2 (dbl)</th>
<th align="center">sum_revenue_2 (dbl)</th>
<th align="center">sum_duration (dbl)</th>
<th align="center">sum_page_views (int)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Conversion Rate</td>
<td align="center">X</td>
<td align="center"></td>
<td align="center">X</td>
<td align="center"></td>
<td align="center">X</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr class="even">
<td>Response Rate</td>
<td align="center">X</td>
<td align="center"></td>
<td align="center"></td>
<td align="center">X</td>
<td align="center">X</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr class="odd">
<td>Click Through Rate (CTR)</td>
<td align="center">X</td>
<td align="center">X</td>
<td align="center">X</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr class="even">
<td>Revenue Per Session</td>
<td align="center">X</td>
<td align="center"></td>
<td align="center"></td>
<td align="center">X</td>
<td align="center">X</td>
<td align="center">X</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr class="odd">
<td>Multi Revenue Per Session</td>
<td align="center">X</td>
<td align="center"></td>
<td align="center"></td>
<td align="center">X</td>
<td align="center">X</td>
<td align="center">X</td>
<td align="center"></td>
<td align="center">X</td>
<td align="center">X</td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr class="even">
<td>Cost Per Activation (CPA)</td>
<td align="center">X</td>
<td align="center"></td>
<td align="center">X</td>
<td align="center"></td>
<td align="center">X</td>
<td align="center"></td>
<td align="center">X</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr class="odd">
<td>Total CM</td>
<td align="center">X</td>
<td align="center">X</td>
<td align="center">X</td>
<td align="center"></td>
<td align="center">X</td>
<td align="center">X</td>
<td align="center">X</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr class="even">
<td>CM Per Click</td>
<td align="center">X</td>
<td align="center"></td>
<td align="center">X</td>
<td align="center"></td>
<td align="center">X</td>
<td align="center">X</td>
<td align="center">X</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr class="odd">
<td>Cost Per Click (CPC)</td>
<td align="center">X</td>
<td align="center"></td>
<td align="center">X</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center">X</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr class="even">
<td>Session Duration</td>
<td align="center">X</td>
<td align="center"></td>
<td align="center"></td>
<td align="center">X</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center">X</td>
<td align="center"></td>
</tr>
<tr class="odd">
<td>Page Views Per Session</td>
<td align="center">X</td>
<td align="center"></td>
<td align="center"></td>
<td align="center">X</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center">X</td>
</tr>
</tbody>
</table>
<div id="example" class="section level4">
<h4>Example:</h4>
<p>We will use the Conversion Rate distribution for this example so we
need the columns <strong>option_name</strong>,
<strong>sum_clicks</strong>, and <strong>sum_conversions</strong>.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a>raw_data_long_format <span class="ot">&lt;-</span> tibble<span class="sc">::</span><span class="fu">tribble</span>(</span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a>   <span class="sc">~</span>option_name, <span class="sc">~</span>clicks, <span class="sc">~</span>conversions,</span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a>            <span class="st">&quot;A&quot;</span>,       <span class="dv">6</span>,           <span class="dv">3</span>,</span>
<span id="cb2-4"><a href="#cb2-4" tabindex="-1"></a>            <span class="st">&quot;A&quot;</span>,       <span class="dv">1</span>,           <span class="dv">0</span>,</span>
<span id="cb2-5"><a href="#cb2-5" tabindex="-1"></a>            <span class="st">&quot;B&quot;</span>,       <span class="dv">2</span>,           <span class="dv">1</span>,</span>
<span id="cb2-6"><a href="#cb2-6" tabindex="-1"></a>            <span class="st">&quot;A&quot;</span>,       <span class="dv">2</span>,           <span class="dv">0</span>,</span>
<span id="cb2-7"><a href="#cb2-7" tabindex="-1"></a>            <span class="st">&quot;A&quot;</span>,       <span class="dv">1</span>,           <span class="dv">0</span>,</span>
<span id="cb2-8"><a href="#cb2-8" tabindex="-1"></a>            <span class="st">&quot;B&quot;</span>,       <span class="dv">5</span>,           <span class="dv">2</span>,</span>
<span id="cb2-9"><a href="#cb2-9" tabindex="-1"></a>            <span class="st">&quot;A&quot;</span>,       <span class="dv">1</span>,           <span class="dv">0</span>,</span>
<span id="cb2-10"><a href="#cb2-10" tabindex="-1"></a>            <span class="st">&quot;B&quot;</span>,       <span class="dv">1</span>,           <span class="dv">1</span>,</span>
<span id="cb2-11"><a href="#cb2-11" tabindex="-1"></a>            <span class="st">&quot;B&quot;</span>,       <span class="dv">1</span>,           <span class="dv">0</span>,</span>
<span id="cb2-12"><a href="#cb2-12" tabindex="-1"></a>            <span class="st">&quot;A&quot;</span>,       <span class="dv">3</span>,           <span class="dv">1</span>,</span>
<span id="cb2-13"><a href="#cb2-13" tabindex="-1"></a>            <span class="st">&quot;B&quot;</span>,       <span class="dv">1</span>,           <span class="dv">0</span>,</span>
<span id="cb2-14"><a href="#cb2-14" tabindex="-1"></a>            <span class="st">&quot;A&quot;</span>,       <span class="dv">1</span>,           <span class="dv">1</span></span>
<span id="cb2-15"><a href="#cb2-15" tabindex="-1"></a>)</span>
<span id="cb2-16"><a href="#cb2-16" tabindex="-1"></a></span>
<span id="cb2-17"><a href="#cb2-17" tabindex="-1"></a>raw_data_long_format <span class="sc">%&gt;%</span> </span>
<span id="cb2-18"><a href="#cb2-18" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">group_by</span>(option_name) <span class="sc">%&gt;%</span> </span>
<span id="cb2-19"><a href="#cb2-19" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">summarise</span>(<span class="at">sum_clicks =</span> <span class="fu">sum</span>(clicks), </span>
<span id="cb2-20"><a href="#cb2-20" tabindex="-1"></a>                   <span class="at">sum_conversions =</span> <span class="fu">sum</span>(conversions))</span>
<span id="cb2-21"><a href="#cb2-21" tabindex="-1"></a><span class="co">#&gt; # A tibble: 2 × 3</span></span>
<span id="cb2-22"><a href="#cb2-22" tabindex="-1"></a><span class="co">#&gt;   option_name sum_clicks sum_conversions</span></span>
<span id="cb2-23"><a href="#cb2-23" tabindex="-1"></a><span class="co">#&gt;   &lt;chr&gt;            &lt;dbl&gt;           &lt;dbl&gt;</span></span>
<span id="cb2-24"><a href="#cb2-24" tabindex="-1"></a><span class="co">#&gt; 1 A                   15               5</span></span>
<span id="cb2-25"><a href="#cb2-25" tabindex="-1"></a><span class="co">#&gt; 2 B                   10               4</span></span></code></pre></div>
<p>This input dataframe can also be created manually if the aggregations
are already done in an external program.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="co"># Since this is a stochastic process with a random number generator,</span></span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a><span class="co"># it is worth setting the seed to get consistent results.</span></span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">1776</span>)</span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a></span>
<span id="cb3-5"><a href="#cb3-5" tabindex="-1"></a>input_df <span class="ot">&lt;-</span> tibble<span class="sc">::</span><span class="fu">tibble</span>(</span>
<span id="cb3-6"><a href="#cb3-6" tabindex="-1"></a>  <span class="at">option_name =</span> <span class="fu">c</span>(<span class="st">&quot;A&quot;</span>, <span class="st">&quot;B&quot;</span>, <span class="st">&quot;C&quot;</span>),</span>
<span id="cb3-7"><a href="#cb3-7" tabindex="-1"></a>  <span class="at">sum_clicks =</span> <span class="fu">c</span>(<span class="dv">1000</span>, <span class="dv">1000</span>, <span class="dv">1000</span>),</span>
<span id="cb3-8"><a href="#cb3-8" tabindex="-1"></a>  <span class="at">sum_conversions =</span> <span class="fu">c</span>(<span class="dv">100</span>, <span class="dv">120</span>, <span class="dv">110</span>)</span>
<span id="cb3-9"><a href="#cb3-9" tabindex="-1"></a>)</span>
<span id="cb3-10"><a href="#cb3-10" tabindex="-1"></a>input_df</span>
<span id="cb3-11"><a href="#cb3-11" tabindex="-1"></a><span class="co">#&gt; # A tibble: 3 × 3</span></span>
<span id="cb3-12"><a href="#cb3-12" tabindex="-1"></a><span class="co">#&gt;   option_name sum_clicks sum_conversions</span></span>
<span id="cb3-13"><a href="#cb3-13" tabindex="-1"></a><span class="co">#&gt;   &lt;chr&gt;            &lt;dbl&gt;           &lt;dbl&gt;</span></span>
<span id="cb3-14"><a href="#cb3-14" tabindex="-1"></a><span class="co">#&gt; 1 A                 1000             100</span></span>
<span id="cb3-15"><a href="#cb3-15" tabindex="-1"></a><span class="co">#&gt; 2 B                 1000             120</span></span>
<span id="cb3-16"><a href="#cb3-16" tabindex="-1"></a><span class="co">#&gt; 3 C                 1000             110</span></span></code></pre></div>
<p>One note: clicks or sessions must be greater than or equal to the
number of conversions (this is a rate bound between 0 and 1).</p>
<p><code>input_df</code> is used in the following examples.</p>
</div>
</div>
<div id="estimate-all-metrics" class="section level3">
<h3>Estimate All Metrics</h3>
<p>This function wraps all the below functions into one call.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="fu">estimate_all_values</span>(input_df, <span class="at">distribution =</span> <span class="st">&quot;conversion_rate&quot;</span>, <span class="at">wrt_option_lift =</span> <span class="st">&quot;A&quot;</span>)</span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a><span class="co">#&gt; Using default priors.</span></span>
<span id="cb4-3"><a href="#cb4-3" tabindex="-1"></a><span class="co">#&gt; Using default priors.</span></span>
<span id="cb4-4"><a href="#cb4-4" tabindex="-1"></a><span class="co">#&gt; Using default priors.</span></span>
<span id="cb4-5"><a href="#cb4-5" tabindex="-1"></a><span class="co">#&gt; $`Win Probability`</span></span>
<span id="cb4-6"><a href="#cb4-6" tabindex="-1"></a><span class="co">#&gt; # A tibble: 3 × 3</span></span>
<span id="cb4-7"><a href="#cb4-7" tabindex="-1"></a><span class="co">#&gt;   option_name win_prob_raw win_prob</span></span>
<span id="cb4-8"><a href="#cb4-8" tabindex="-1"></a><span class="co">#&gt;   &lt;chr&gt;              &lt;dbl&gt; &lt;chr&gt;   </span></span>
<span id="cb4-9"><a href="#cb4-9" tabindex="-1"></a><span class="co">#&gt; 1 B                 0.726  72.59%  </span></span>
<span id="cb4-10"><a href="#cb4-10" tabindex="-1"></a><span class="co">#&gt; 2 C                 0.228  22.76%  </span></span>
<span id="cb4-11"><a href="#cb4-11" tabindex="-1"></a><span class="co">#&gt; 3 A                 0.0465 4.65%   </span></span>
<span id="cb4-12"><a href="#cb4-12" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb4-13"><a href="#cb4-13" tabindex="-1"></a><span class="co">#&gt; $`Value Remaining`</span></span>
<span id="cb4-14"><a href="#cb4-14" tabindex="-1"></a><span class="co">#&gt;       95% </span></span>
<span id="cb4-15"><a href="#cb4-15" tabindex="-1"></a><span class="co">#&gt; 0.1328629 </span></span>
<span id="cb4-16"><a href="#cb4-16" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb4-17"><a href="#cb4-17" tabindex="-1"></a><span class="co">#&gt; $`Lift vs Baseline`</span></span>
<span id="cb4-18"><a href="#cb4-18" tabindex="-1"></a><span class="co">#&gt;       30% </span></span>
<span id="cb4-19"><a href="#cb4-19" tabindex="-1"></a><span class="co">#&gt; 0.1205052 </span></span>
<span id="cb4-20"><a href="#cb4-20" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb4-21"><a href="#cb4-21" tabindex="-1"></a><span class="co">#&gt; $`Win Probability vs Baseline`</span></span>
<span id="cb4-22"><a href="#cb4-22" tabindex="-1"></a><span class="co">#&gt; # A tibble: 2 × 3</span></span>
<span id="cb4-23"><a href="#cb4-23" tabindex="-1"></a><span class="co">#&gt;   option_name win_prob_raw win_prob</span></span>
<span id="cb4-24"><a href="#cb4-24" tabindex="-1"></a><span class="co">#&gt;   &lt;chr&gt;              &lt;dbl&gt; &lt;chr&gt;   </span></span>
<span id="cb4-25"><a href="#cb4-25" tabindex="-1"></a><span class="co">#&gt; 1 B                 0.923  92.25%  </span></span>
<span id="cb4-26"><a href="#cb4-26" tabindex="-1"></a><span class="co">#&gt; 2 A                 0.0775 7.75%</span></span></code></pre></div>
</div>
<div id="win-probability" class="section level3">
<h3>Win Probability</h3>
<p>This produces a tibble with all the option names, the
<code>win_prob_raw</code> so this can be used as a double, and a cleaned
string <code>win_prob</code> where the decimal is represented as a
percent.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="fu">estimate_win_prob</span>(input_df, <span class="at">distribution =</span> <span class="st">&quot;conversion_rate&quot;</span>)</span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a><span class="co">#&gt; Using default priors.</span></span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a><span class="co">#&gt; Using default priors.</span></span>
<span id="cb5-4"><a href="#cb5-4" tabindex="-1"></a><span class="co">#&gt; Using default priors.</span></span>
<span id="cb5-5"><a href="#cb5-5" tabindex="-1"></a><span class="co">#&gt; # A tibble: 3 × 3</span></span>
<span id="cb5-6"><a href="#cb5-6" tabindex="-1"></a><span class="co">#&gt;   option_name win_prob_raw win_prob</span></span>
<span id="cb5-7"><a href="#cb5-7" tabindex="-1"></a><span class="co">#&gt;   &lt;chr&gt;              &lt;dbl&gt; &lt;chr&gt;   </span></span>
<span id="cb5-8"><a href="#cb5-8" tabindex="-1"></a><span class="co">#&gt; 1 B                 0.725  72.47%  </span></span>
<span id="cb5-9"><a href="#cb5-9" tabindex="-1"></a><span class="co">#&gt; 2 C                 0.228  22.82%  </span></span>
<span id="cb5-10"><a href="#cb5-10" tabindex="-1"></a><span class="co">#&gt; 3 A                 0.0471 4.71%</span></span></code></pre></div>
</div>
<div id="value-remaining-loss" class="section level3">
<h3>Value Remaining (Loss)</h3>
<p>Value Remaining is a measure of loss. If B is selected as the current
best option, we can estimate with 95% confidence (default), that an
alternative option is not more than X% worse than the current expected
best option.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a><span class="fu">estimate_value_remaining</span>(input_df, <span class="at">distribution =</span> <span class="st">&quot;conversion_rate&quot;</span>)</span>
<span id="cb6-2"><a href="#cb6-2" tabindex="-1"></a><span class="co">#&gt; Using default priors.</span></span>
<span id="cb6-3"><a href="#cb6-3" tabindex="-1"></a><span class="co">#&gt; Using default priors.</span></span>
<span id="cb6-4"><a href="#cb6-4" tabindex="-1"></a><span class="co">#&gt; Using default priors.</span></span>
<span id="cb6-5"><a href="#cb6-5" tabindex="-1"></a><span class="co">#&gt;       95% </span></span>
<span id="cb6-6"><a href="#cb6-6" tabindex="-1"></a><span class="co">#&gt; 0.1317859</span></span></code></pre></div>
<p>This number can also be framed in absolute dollar terms (or
percentage points in the case of a rate metric).</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="fu">estimate_value_remaining</span>(input_df, <span class="at">distribution =</span> <span class="st">&quot;conversion_rate&quot;</span>, <span class="at">metric =</span> <span class="st">&quot;absolute&quot;</span>)</span>
<span id="cb7-2"><a href="#cb7-2" tabindex="-1"></a><span class="co">#&gt; Using default priors.</span></span>
<span id="cb7-3"><a href="#cb7-3" tabindex="-1"></a><span class="co">#&gt; Using default priors.</span></span>
<span id="cb7-4"><a href="#cb7-4" tabindex="-1"></a><span class="co">#&gt; Using default priors.</span></span>
<span id="cb7-5"><a href="#cb7-5" tabindex="-1"></a><span class="co">#&gt;        95% </span></span>
<span id="cb7-6"><a href="#cb7-6" tabindex="-1"></a><span class="co">#&gt; 0.01429526</span></span></code></pre></div>
</div>
<div id="estimate-lift" class="section level3">
<h3>Estimate Lift</h3>
<p>The <code>metric</code> argument defaults to <code>lift</code> which
produces a percent lift vs the baseline. Sometimes we may want to
understand this lift in absolute terms (especially when samples from the
posteriors could be negative, such as Contribution Margin (CM).)</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a><span class="fu">estimate_lift_vs_baseline</span>(input_df, <span class="at">distribution =</span> <span class="st">&quot;conversion_rate&quot;</span>, <span class="at">wrt_option =</span> <span class="st">&quot;A&quot;</span>)</span>
<span id="cb8-2"><a href="#cb8-2" tabindex="-1"></a><span class="co">#&gt; Using default priors.</span></span>
<span id="cb8-3"><a href="#cb8-3" tabindex="-1"></a><span class="co">#&gt; Using default priors.</span></span>
<span id="cb8-4"><a href="#cb8-4" tabindex="-1"></a><span class="co">#&gt; Using default priors.</span></span>
<span id="cb8-5"><a href="#cb8-5" tabindex="-1"></a><span class="co">#&gt;      30% </span></span>
<span id="cb8-6"><a href="#cb8-6" tabindex="-1"></a><span class="co">#&gt; 0.120096</span></span></code></pre></div>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a><span class="fu">estimate_lift_vs_baseline</span>(input_df, <span class="at">distribution =</span> <span class="st">&quot;conversion_rate&quot;</span>, <span class="at">wrt_option =</span> <span class="st">&quot;A&quot;</span>, <span class="at">metric =</span> <span class="st">&quot;absolute&quot;</span>)</span>
<span id="cb9-2"><a href="#cb9-2" tabindex="-1"></a><span class="co">#&gt; Using default priors.</span></span>
<span id="cb9-3"><a href="#cb9-3" tabindex="-1"></a><span class="co">#&gt; Using default priors.</span></span>
<span id="cb9-4"><a href="#cb9-4" tabindex="-1"></a><span class="co">#&gt; Using default priors.</span></span>
<span id="cb9-5"><a href="#cb9-5" tabindex="-1"></a><span class="co">#&gt;        30% </span></span>
<span id="cb9-6"><a href="#cb9-6" tabindex="-1"></a><span class="co">#&gt; 0.01268253</span></span></code></pre></div>
</div>
<div id="win-probability-vs.-baseline" class="section level3">
<h3>Win Probability vs. Baseline</h3>
<p>This function is used to compare an individual option to the best
option as opposed to the win probability of each option overall.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a><span class="fu">estimate_win_prob_vs_baseline</span>(input_df, <span class="at">distribution =</span> <span class="st">&quot;conversion_rate&quot;</span>, <span class="at">wrt_option =</span> <span class="st">&quot;A&quot;</span>)</span>
<span id="cb10-2"><a href="#cb10-2" tabindex="-1"></a><span class="co">#&gt; Using default priors.</span></span>
<span id="cb10-3"><a href="#cb10-3" tabindex="-1"></a><span class="co">#&gt; Using default priors.</span></span>
<span id="cb10-4"><a href="#cb10-4" tabindex="-1"></a><span class="co">#&gt; Using default priors.</span></span>
<span id="cb10-5"><a href="#cb10-5" tabindex="-1"></a><span class="co">#&gt; # A tibble: 2 × 3</span></span>
<span id="cb10-6"><a href="#cb10-6" tabindex="-1"></a><span class="co">#&gt;   option_name win_prob_raw win_prob</span></span>
<span id="cb10-7"><a href="#cb10-7" tabindex="-1"></a><span class="co">#&gt;   &lt;chr&gt;              &lt;dbl&gt; &lt;chr&gt;   </span></span>
<span id="cb10-8"><a href="#cb10-8" tabindex="-1"></a><span class="co">#&gt; 1 B                 0.924  92.45%  </span></span>
<span id="cb10-9"><a href="#cb10-9" tabindex="-1"></a><span class="co">#&gt; 2 A                 0.0755 7.55%</span></span></code></pre></div>
</div>
<div id="sample-from-the-posterior" class="section level3">
<h3>Sample From the Posterior</h3>
<p>Samples can be directly collected from the posterior with the
following function.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a><span class="fu">sample_from_posterior</span>(input_df, <span class="at">distribution =</span> <span class="st">&quot;conversion_rate&quot;</span>)</span>
<span id="cb11-2"><a href="#cb11-2" tabindex="-1"></a><span class="co">#&gt; Using default priors.</span></span>
<span id="cb11-3"><a href="#cb11-3" tabindex="-1"></a><span class="co">#&gt; Using default priors.</span></span>
<span id="cb11-4"><a href="#cb11-4" tabindex="-1"></a><span class="co">#&gt; Using default priors.</span></span>
<span id="cb11-5"><a href="#cb11-5" tabindex="-1"></a><span class="co">#&gt; # A tibble: 150,000 × 3</span></span>
<span id="cb11-6"><a href="#cb11-6" tabindex="-1"></a><span class="co">#&gt;    option_name samples sample_id</span></span>
<span id="cb11-7"><a href="#cb11-7" tabindex="-1"></a><span class="co">#&gt;    &lt;chr&gt;         &lt;dbl&gt;     &lt;int&gt;</span></span>
<span id="cb11-8"><a href="#cb11-8" tabindex="-1"></a><span class="co">#&gt;  1 A            0.0991         1</span></span>
<span id="cb11-9"><a href="#cb11-9" tabindex="-1"></a><span class="co">#&gt;  2 A            0.109          2</span></span>
<span id="cb11-10"><a href="#cb11-10" tabindex="-1"></a><span class="co">#&gt;  3 A            0.106          3</span></span>
<span id="cb11-11"><a href="#cb11-11" tabindex="-1"></a><span class="co">#&gt;  4 A            0.0923         4</span></span>
<span id="cb11-12"><a href="#cb11-12" tabindex="-1"></a><span class="co">#&gt;  5 A            0.102          5</span></span>
<span id="cb11-13"><a href="#cb11-13" tabindex="-1"></a><span class="co">#&gt;  6 A            0.113          6</span></span>
<span id="cb11-14"><a href="#cb11-14" tabindex="-1"></a><span class="co">#&gt;  7 A            0.103          7</span></span>
<span id="cb11-15"><a href="#cb11-15" tabindex="-1"></a><span class="co">#&gt;  8 A            0.102          8</span></span>
<span id="cb11-16"><a href="#cb11-16" tabindex="-1"></a><span class="co">#&gt;  9 A            0.0875         9</span></span>
<span id="cb11-17"><a href="#cb11-17" tabindex="-1"></a><span class="co">#&gt; 10 A            0.0924        10</span></span>
<span id="cb11-18"><a href="#cb11-18" tabindex="-1"></a><span class="co">#&gt; # ℹ 149,990 more rows</span></span></code></pre></div>
</div>
</div>
<div id="alternate-distribution-type-rev-per-session" class="section level2">
<h2>Alternate Distribution Type (Rev Per Session)</h2>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a>(input_df_rps <span class="ot">&lt;-</span> tibble<span class="sc">::</span><span class="fu">tibble</span>(</span>
<span id="cb12-2"><a href="#cb12-2" tabindex="-1"></a>   <span class="at">option_name =</span> <span class="fu">c</span>(<span class="st">&quot;A&quot;</span>, <span class="st">&quot;B&quot;</span>, <span class="st">&quot;C&quot;</span>),</span>
<span id="cb12-3"><a href="#cb12-3" tabindex="-1"></a>   <span class="at">sum_sessions =</span> <span class="fu">c</span>(<span class="dv">1000</span>, <span class="dv">1000</span>, <span class="dv">1000</span>),</span>
<span id="cb12-4"><a href="#cb12-4" tabindex="-1"></a>   <span class="at">sum_conversions =</span> <span class="fu">c</span>(<span class="dv">100</span>, <span class="dv">120</span>, <span class="dv">110</span>),</span>
<span id="cb12-5"><a href="#cb12-5" tabindex="-1"></a>   <span class="at">sum_revenue =</span> <span class="fu">c</span>(<span class="dv">900</span>, <span class="dv">1200</span>, <span class="dv">1150</span>)</span>
<span id="cb12-6"><a href="#cb12-6" tabindex="-1"></a>))</span>
<span id="cb12-7"><a href="#cb12-7" tabindex="-1"></a><span class="co">#&gt; # A tibble: 3 × 4</span></span>
<span id="cb12-8"><a href="#cb12-8" tabindex="-1"></a><span class="co">#&gt;   option_name sum_sessions sum_conversions sum_revenue</span></span>
<span id="cb12-9"><a href="#cb12-9" tabindex="-1"></a><span class="co">#&gt;   &lt;chr&gt;              &lt;dbl&gt;           &lt;dbl&gt;       &lt;dbl&gt;</span></span>
<span id="cb12-10"><a href="#cb12-10" tabindex="-1"></a><span class="co">#&gt; 1 A                   1000             100         900</span></span>
<span id="cb12-11"><a href="#cb12-11" tabindex="-1"></a><span class="co">#&gt; 2 B                   1000             120        1200</span></span>
<span id="cb12-12"><a href="#cb12-12" tabindex="-1"></a><span class="co">#&gt; 3 C                   1000             110        1150</span></span>
<span id="cb12-13"><a href="#cb12-13" tabindex="-1"></a></span>
<span id="cb12-14"><a href="#cb12-14" tabindex="-1"></a><span class="fu">estimate_all_values</span>(input_df_rps, <span class="at">distribution =</span> <span class="st">&quot;rev_per_session&quot;</span>, <span class="at">wrt_option_lift =</span> <span class="st">&quot;A&quot;</span>)</span>
<span id="cb12-15"><a href="#cb12-15" tabindex="-1"></a><span class="co">#&gt; Using default priors.</span></span>
<span id="cb12-16"><a href="#cb12-16" tabindex="-1"></a><span class="co">#&gt; Using default priors.</span></span>
<span id="cb12-17"><a href="#cb12-17" tabindex="-1"></a><span class="co">#&gt; Using default priors.</span></span>
<span id="cb12-18"><a href="#cb12-18" tabindex="-1"></a><span class="co">#&gt; Using default priors.</span></span>
<span id="cb12-19"><a href="#cb12-19" tabindex="-1"></a><span class="co">#&gt; Using default priors.</span></span>
<span id="cb12-20"><a href="#cb12-20" tabindex="-1"></a><span class="co">#&gt; Using default priors.</span></span>
<span id="cb12-21"><a href="#cb12-21" tabindex="-1"></a><span class="co">#&gt; $`Win Probability`</span></span>
<span id="cb12-22"><a href="#cb12-22" tabindex="-1"></a><span class="co">#&gt; # A tibble: 3 × 3</span></span>
<span id="cb12-23"><a href="#cb12-23" tabindex="-1"></a><span class="co">#&gt;   option_name win_prob_raw win_prob</span></span>
<span id="cb12-24"><a href="#cb12-24" tabindex="-1"></a><span class="co">#&gt;   &lt;chr&gt;              &lt;dbl&gt; &lt;chr&gt;   </span></span>
<span id="cb12-25"><a href="#cb12-25" tabindex="-1"></a><span class="co">#&gt; 1 B                 0.580  57.99%  </span></span>
<span id="cb12-26"><a href="#cb12-26" tabindex="-1"></a><span class="co">#&gt; 2 C                 0.396  39.62%  </span></span>
<span id="cb12-27"><a href="#cb12-27" tabindex="-1"></a><span class="co">#&gt; 3 A                 0.0239 2.39%   </span></span>
<span id="cb12-28"><a href="#cb12-28" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb12-29"><a href="#cb12-29" tabindex="-1"></a><span class="co">#&gt; $`Value Remaining`</span></span>
<span id="cb12-30"><a href="#cb12-30" tabindex="-1"></a><span class="co">#&gt;       95% </span></span>
<span id="cb12-31"><a href="#cb12-31" tabindex="-1"></a><span class="co">#&gt; 0.2942552 </span></span>
<span id="cb12-32"><a href="#cb12-32" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb12-33"><a href="#cb12-33" tabindex="-1"></a><span class="co">#&gt; $`Lift vs Baseline`</span></span>
<span id="cb12-34"><a href="#cb12-34" tabindex="-1"></a><span class="co">#&gt;      30% </span></span>
<span id="cb12-35"><a href="#cb12-35" tabindex="-1"></a><span class="co">#&gt; 0.209918 </span></span>
<span id="cb12-36"><a href="#cb12-36" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb12-37"><a href="#cb12-37" tabindex="-1"></a><span class="co">#&gt; $`Win Probability vs Baseline`</span></span>
<span id="cb12-38"><a href="#cb12-38" tabindex="-1"></a><span class="co">#&gt; # A tibble: 2 × 3</span></span>
<span id="cb12-39"><a href="#cb12-39" tabindex="-1"></a><span class="co">#&gt;   option_name win_prob_raw win_prob</span></span>
<span id="cb12-40"><a href="#cb12-40" tabindex="-1"></a><span class="co">#&gt;   &lt;chr&gt;              &lt;dbl&gt; &lt;chr&gt;   </span></span>
<span id="cb12-41"><a href="#cb12-41" tabindex="-1"></a><span class="co">#&gt; 1 B                 0.942  94.17%  </span></span>
<span id="cb12-42"><a href="#cb12-42" tabindex="-1"></a><span class="co">#&gt; 2 A                 0.0583 5.83%</span></span></code></pre></div>
</div>
<div id="valid-posteriors" class="section level2">
<h2>Valid Posteriors</h2>
<p>You may want to pass alternate priors to a distribution. Only do this
if you are making an informed decision.</p>
<pre><code>Beta - alpha0, beta0
Gamma - k0, theta0 (k01, theta01 if alternate Gamma priors are required)
Dirichlet - alpha_00 (none), alpha_01 (first conversion type), alpha_02 (alternate conversion type)</code></pre>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a><span class="co"># You can also pass priors for just the Beta distribution and not the Gamma distribution.</span></span>
<span id="cb14-2"><a href="#cb14-2" tabindex="-1"></a>new_priors <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">alpha0 =</span> <span class="dv">2</span>, <span class="at">beta0 =</span> <span class="dv">10</span>, <span class="at">k0 =</span> <span class="dv">3</span>, <span class="at">theta0 =</span> <span class="dv">10000</span>)</span>
<span id="cb14-3"><a href="#cb14-3" tabindex="-1"></a><span class="fu">estimate_all_values</span>(input_df_rps, <span class="at">distribution =</span> <span class="st">&quot;rev_per_session&quot;</span>, <span class="at">wrt_option_lift =</span> <span class="st">&quot;A&quot;</span>, <span class="at">priors =</span> new_priors)</span>
<span id="cb14-4"><a href="#cb14-4" tabindex="-1"></a><span class="co">#&gt; $`Win Probability`</span></span>
<span id="cb14-5"><a href="#cb14-5" tabindex="-1"></a><span class="co">#&gt; # A tibble: 3 × 3</span></span>
<span id="cb14-6"><a href="#cb14-6" tabindex="-1"></a><span class="co">#&gt;   option_name win_prob_raw win_prob</span></span>
<span id="cb14-7"><a href="#cb14-7" tabindex="-1"></a><span class="co">#&gt;   &lt;chr&gt;              &lt;dbl&gt; &lt;chr&gt;   </span></span>
<span id="cb14-8"><a href="#cb14-8" tabindex="-1"></a><span class="co">#&gt; 1 B                 0.580  58%     </span></span>
<span id="cb14-9"><a href="#cb14-9" tabindex="-1"></a><span class="co">#&gt; 2 C                 0.398  39.76%  </span></span>
<span id="cb14-10"><a href="#cb14-10" tabindex="-1"></a><span class="co">#&gt; 3 A                 0.0225 2.25%   </span></span>
<span id="cb14-11"><a href="#cb14-11" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb14-12"><a href="#cb14-12" tabindex="-1"></a><span class="co">#&gt; $`Value Remaining`</span></span>
<span id="cb14-13"><a href="#cb14-13" tabindex="-1"></a><span class="co">#&gt;      95% </span></span>
<span id="cb14-14"><a href="#cb14-14" tabindex="-1"></a><span class="co">#&gt; 0.291834 </span></span>
<span id="cb14-15"><a href="#cb14-15" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb14-16"><a href="#cb14-16" tabindex="-1"></a><span class="co">#&gt; $`Lift vs Baseline`</span></span>
<span id="cb14-17"><a href="#cb14-17" tabindex="-1"></a><span class="co">#&gt;       30% </span></span>
<span id="cb14-18"><a href="#cb14-18" tabindex="-1"></a><span class="co">#&gt; 0.2100943 </span></span>
<span id="cb14-19"><a href="#cb14-19" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb14-20"><a href="#cb14-20" tabindex="-1"></a><span class="co">#&gt; $`Win Probability vs Baseline`</span></span>
<span id="cb14-21"><a href="#cb14-21" tabindex="-1"></a><span class="co">#&gt; # A tibble: 2 × 3</span></span>
<span id="cb14-22"><a href="#cb14-22" tabindex="-1"></a><span class="co">#&gt;   option_name win_prob_raw win_prob</span></span>
<span id="cb14-23"><a href="#cb14-23" tabindex="-1"></a><span class="co">#&gt;   &lt;chr&gt;              &lt;dbl&gt; &lt;chr&gt;   </span></span>
<span id="cb14-24"><a href="#cb14-24" tabindex="-1"></a><span class="co">#&gt; 1 B                 0.941  94.14%  </span></span>
<span id="cb14-25"><a href="#cb14-25" tabindex="-1"></a><span class="co">#&gt; 2 A                 0.0586 5.86%</span></span></code></pre></div>
</div>
<div id="looping-over-all-distributions" class="section level2">
<h2>Looping Over All Distributions</h2>
<p>You may want to evaluate the results of a test in multiple different
distributions.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" tabindex="-1"></a>(input_df_all <span class="ot">&lt;-</span> tibble<span class="sc">::</span><span class="fu">tibble</span>(</span>
<span id="cb15-2"><a href="#cb15-2" tabindex="-1"></a>   <span class="at">option_name =</span> <span class="fu">c</span>(<span class="st">&quot;A&quot;</span>, <span class="st">&quot;B&quot;</span>, <span class="st">&quot;C&quot;</span>),</span>
<span id="cb15-3"><a href="#cb15-3" tabindex="-1"></a>   <span class="at">sum_impressions =</span> <span class="fu">c</span>(<span class="dv">10000</span>, <span class="dv">9000</span>, <span class="dv">11000</span>),</span>
<span id="cb15-4"><a href="#cb15-4" tabindex="-1"></a>   <span class="at">sum_sessions =</span> <span class="fu">c</span>(<span class="dv">1000</span>, <span class="dv">1000</span>, <span class="dv">1000</span>),</span>
<span id="cb15-5"><a href="#cb15-5" tabindex="-1"></a>   <span class="at">sum_conversions =</span> <span class="fu">c</span>(<span class="dv">100</span>, <span class="dv">120</span>, <span class="dv">110</span>),</span>
<span id="cb15-6"><a href="#cb15-6" tabindex="-1"></a>   <span class="at">sum_revenue =</span> <span class="fu">c</span>(<span class="dv">900</span>, <span class="dv">1200</span>, <span class="dv">1150</span>),</span>
<span id="cb15-7"><a href="#cb15-7" tabindex="-1"></a>   <span class="at">sum_cost =</span> <span class="fu">c</span>(<span class="dv">10</span>, <span class="dv">50</span>, <span class="dv">30</span>),</span>
<span id="cb15-8"><a href="#cb15-8" tabindex="-1"></a>   <span class="at">sum_conversions_2 =</span> <span class="fu">c</span>(<span class="dv">10</span>, <span class="dv">8</span>, <span class="dv">20</span>),</span>
<span id="cb15-9"><a href="#cb15-9" tabindex="-1"></a>   <span class="at">sum_revenue_2 =</span> <span class="fu">c</span>(<span class="dv">10</span>, <span class="dv">16</span>, <span class="dv">15</span>)</span>
<span id="cb15-10"><a href="#cb15-10" tabindex="-1"></a>) <span class="sc">%&gt;%</span> </span>
<span id="cb15-11"><a href="#cb15-11" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">sum_clicks =</span> sum_sessions)) <span class="co"># Clicks are the same as Sessions</span></span>
<span id="cb15-12"><a href="#cb15-12" tabindex="-1"></a><span class="co">#&gt; # A tibble: 3 × 9</span></span>
<span id="cb15-13"><a href="#cb15-13" tabindex="-1"></a><span class="co">#&gt;   option_name sum_impressions sum_sessions sum_conversions sum_revenue sum_cost</span></span>
<span id="cb15-14"><a href="#cb15-14" tabindex="-1"></a><span class="co">#&gt;   &lt;chr&gt;                 &lt;dbl&gt;        &lt;dbl&gt;           &lt;dbl&gt;       &lt;dbl&gt;    &lt;dbl&gt;</span></span>
<span id="cb15-15"><a href="#cb15-15" tabindex="-1"></a><span class="co">#&gt; 1 A                     10000         1000             100         900       10</span></span>
<span id="cb15-16"><a href="#cb15-16" tabindex="-1"></a><span class="co">#&gt; 2 B                      9000         1000             120        1200       50</span></span>
<span id="cb15-17"><a href="#cb15-17" tabindex="-1"></a><span class="co">#&gt; 3 C                     11000         1000             110        1150       30</span></span>
<span id="cb15-18"><a href="#cb15-18" tabindex="-1"></a><span class="co">#&gt; # ℹ 3 more variables: sum_conversions_2 &lt;dbl&gt;, sum_revenue_2 &lt;dbl&gt;,</span></span>
<span id="cb15-19"><a href="#cb15-19" tabindex="-1"></a><span class="co">#&gt; #   sum_clicks &lt;dbl&gt;</span></span>
<span id="cb15-20"><a href="#cb15-20" tabindex="-1"></a></span>
<span id="cb15-21"><a href="#cb15-21" tabindex="-1"></a>distributions <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;conversion_rate&quot;</span>, <span class="st">&quot;response_rate&quot;</span>, <span class="st">&quot;ctr&quot;</span>, <span class="st">&quot;rev_per_session&quot;</span>, <span class="st">&quot;multi_rev_per_session&quot;</span>, <span class="st">&quot;cpa&quot;</span>, <span class="st">&quot;total_cm&quot;</span>, <span class="st">&quot;cm_per_click&quot;</span>, <span class="st">&quot;cpc&quot;</span>)</span>
<span id="cb15-22"><a href="#cb15-22" tabindex="-1"></a></span>
<span id="cb15-23"><a href="#cb15-23" tabindex="-1"></a><span class="co"># Purrr map allows us to apply a function to each element of a list. (Similar to a for loop)</span></span>
<span id="cb15-24"><a href="#cb15-24" tabindex="-1"></a>purrr<span class="sc">::</span><span class="fu">map</span>(distributions,</span>
<span id="cb15-25"><a href="#cb15-25" tabindex="-1"></a>           <span class="sc">~</span> <span class="fu">estimate_all_values</span>(input_df_all,</span>
<span id="cb15-26"><a href="#cb15-26" tabindex="-1"></a>                                 <span class="at">distribution =</span> .x,</span>
<span id="cb15-27"><a href="#cb15-27" tabindex="-1"></a>                                 <span class="at">wrt_option_lift =</span> <span class="st">&quot;A&quot;</span>,</span>
<span id="cb15-28"><a href="#cb15-28" tabindex="-1"></a>                                 <span class="at">metric =</span> <span class="st">&quot;absolute&quot;</span>)</span>
<span id="cb15-29"><a href="#cb15-29" tabindex="-1"></a>)</span>
<span id="cb15-30"><a href="#cb15-30" tabindex="-1"></a><span class="co">#&gt; Using default priors.</span></span>
<span id="cb15-31"><a href="#cb15-31" tabindex="-1"></a><span class="co">#&gt; Using default priors.</span></span>
<span id="cb15-32"><a href="#cb15-32" tabindex="-1"></a><span class="co">#&gt; Using default priors.</span></span>
<span id="cb15-33"><a href="#cb15-33" tabindex="-1"></a><span class="co">#&gt; Using default priors.</span></span>
<span id="cb15-34"><a href="#cb15-34" tabindex="-1"></a><span class="co">#&gt; Using default priors.</span></span>
<span id="cb15-35"><a href="#cb15-35" tabindex="-1"></a><span class="co">#&gt; Using default priors.</span></span>
<span id="cb15-36"><a href="#cb15-36" tabindex="-1"></a><span class="co">#&gt; Using default priors.</span></span>
<span id="cb15-37"><a href="#cb15-37" tabindex="-1"></a><span class="co">#&gt; Using default priors.</span></span>
<span id="cb15-38"><a href="#cb15-38" tabindex="-1"></a><span class="co">#&gt; Using default priors.</span></span>
<span id="cb15-39"><a href="#cb15-39" tabindex="-1"></a><span class="co">#&gt; Using default priors.</span></span>
<span id="cb15-40"><a href="#cb15-40" tabindex="-1"></a><span class="co">#&gt; Using default priors.</span></span>
<span id="cb15-41"><a href="#cb15-41" tabindex="-1"></a><span class="co">#&gt; Using default priors.</span></span>
<span id="cb15-42"><a href="#cb15-42" tabindex="-1"></a><span class="co">#&gt; Using default priors.</span></span>
<span id="cb15-43"><a href="#cb15-43" tabindex="-1"></a><span class="co">#&gt; Using default priors.</span></span>
<span id="cb15-44"><a href="#cb15-44" tabindex="-1"></a><span class="co">#&gt; Using default priors.</span></span>
<span id="cb15-45"><a href="#cb15-45" tabindex="-1"></a><span class="co">#&gt; Using default priors.</span></span>
<span id="cb15-46"><a href="#cb15-46" tabindex="-1"></a><span class="co">#&gt; Using default priors.</span></span>
<span id="cb15-47"><a href="#cb15-47" tabindex="-1"></a><span class="co">#&gt; Using default priors.</span></span>
<span id="cb15-48"><a href="#cb15-48" tabindex="-1"></a><span class="co">#&gt; Using default priors.</span></span>
<span id="cb15-49"><a href="#cb15-49" tabindex="-1"></a><span class="co">#&gt; Using default priors.</span></span>
<span id="cb15-50"><a href="#cb15-50" tabindex="-1"></a><span class="co">#&gt; Using default priors.</span></span>
<span id="cb15-51"><a href="#cb15-51" tabindex="-1"></a><span class="co">#&gt; Using default priors.</span></span>
<span id="cb15-52"><a href="#cb15-52" tabindex="-1"></a><span class="co">#&gt; Using default priors.</span></span>
<span id="cb15-53"><a href="#cb15-53" tabindex="-1"></a><span class="co">#&gt; Using default priors.</span></span>
<span id="cb15-54"><a href="#cb15-54" tabindex="-1"></a><span class="co">#&gt; Using default priors.</span></span>
<span id="cb15-55"><a href="#cb15-55" tabindex="-1"></a><span class="co">#&gt; Using default priors.</span></span>
<span id="cb15-56"><a href="#cb15-56" tabindex="-1"></a><span class="co">#&gt; Using default priors.</span></span>
<span id="cb15-57"><a href="#cb15-57" tabindex="-1"></a><span class="co">#&gt; Using default priors.</span></span>
<span id="cb15-58"><a href="#cb15-58" tabindex="-1"></a><span class="co">#&gt; Using default priors.</span></span>
<span id="cb15-59"><a href="#cb15-59" tabindex="-1"></a><span class="co">#&gt; Using default priors.</span></span>
<span id="cb15-60"><a href="#cb15-60" tabindex="-1"></a><span class="co">#&gt; Using default priors.</span></span>
<span id="cb15-61"><a href="#cb15-61" tabindex="-1"></a><span class="co">#&gt; Using default priors.</span></span>
<span id="cb15-62"><a href="#cb15-62" tabindex="-1"></a><span class="co">#&gt; Using default priors.</span></span>
<span id="cb15-63"><a href="#cb15-63" tabindex="-1"></a><span class="co">#&gt; Using default priors.</span></span>
<span id="cb15-64"><a href="#cb15-64" tabindex="-1"></a><span class="co">#&gt; Using default priors.</span></span>
<span id="cb15-65"><a href="#cb15-65" tabindex="-1"></a><span class="co">#&gt; Using default priors.</span></span>
<span id="cb15-66"><a href="#cb15-66" tabindex="-1"></a><span class="co">#&gt; Using default priors.</span></span>
<span id="cb15-67"><a href="#cb15-67" tabindex="-1"></a><span class="co">#&gt; Using default priors.</span></span>
<span id="cb15-68"><a href="#cb15-68" tabindex="-1"></a><span class="co">#&gt; Using default priors.</span></span>
<span id="cb15-69"><a href="#cb15-69" tabindex="-1"></a><span class="co">#&gt; Using default priors.</span></span>
<span id="cb15-70"><a href="#cb15-70" tabindex="-1"></a><span class="co">#&gt; Using default priors.</span></span>
<span id="cb15-71"><a href="#cb15-71" tabindex="-1"></a><span class="co">#&gt; Using default priors.</span></span>
<span id="cb15-72"><a href="#cb15-72" tabindex="-1"></a><span class="co">#&gt; Using default priors.</span></span>
<span id="cb15-73"><a href="#cb15-73" tabindex="-1"></a><span class="co">#&gt; Using default priors.</span></span>
<span id="cb15-74"><a href="#cb15-74" tabindex="-1"></a><span class="co">#&gt; Using default priors.</span></span>
<span id="cb15-75"><a href="#cb15-75" tabindex="-1"></a><span class="co">#&gt; Using default priors.</span></span>
<span id="cb15-76"><a href="#cb15-76" tabindex="-1"></a><span class="co">#&gt; Using default priors.</span></span>
<span id="cb15-77"><a href="#cb15-77" tabindex="-1"></a><span class="co">#&gt; Using default priors.</span></span>
<span id="cb15-78"><a href="#cb15-78" tabindex="-1"></a><span class="co">#&gt; Using default priors.</span></span>
<span id="cb15-79"><a href="#cb15-79" tabindex="-1"></a><span class="co">#&gt; Using default priors.</span></span>
<span id="cb15-80"><a href="#cb15-80" tabindex="-1"></a><span class="co">#&gt; Using default priors.</span></span>
<span id="cb15-81"><a href="#cb15-81" tabindex="-1"></a><span class="co">#&gt; Using default priors.</span></span>
<span id="cb15-82"><a href="#cb15-82" tabindex="-1"></a><span class="co">#&gt; Using default priors.</span></span>
<span id="cb15-83"><a href="#cb15-83" tabindex="-1"></a><span class="co">#&gt; Using default priors.</span></span>
<span id="cb15-84"><a href="#cb15-84" tabindex="-1"></a><span class="co">#&gt; [[1]]</span></span>
<span id="cb15-85"><a href="#cb15-85" tabindex="-1"></a><span class="co">#&gt; [[1]]$`Win Probability`</span></span>
<span id="cb15-86"><a href="#cb15-86" tabindex="-1"></a><span class="co">#&gt; # A tibble: 3 × 3</span></span>
<span id="cb15-87"><a href="#cb15-87" tabindex="-1"></a><span class="co">#&gt;   option_name win_prob_raw win_prob</span></span>
<span id="cb15-88"><a href="#cb15-88" tabindex="-1"></a><span class="co">#&gt;   &lt;chr&gt;              &lt;dbl&gt; &lt;chr&gt;   </span></span>
<span id="cb15-89"><a href="#cb15-89" tabindex="-1"></a><span class="co">#&gt; 1 B                 0.724  72.41%  </span></span>
<span id="cb15-90"><a href="#cb15-90" tabindex="-1"></a><span class="co">#&gt; 2 C                 0.229  22.93%  </span></span>
<span id="cb15-91"><a href="#cb15-91" tabindex="-1"></a><span class="co">#&gt; 3 A                 0.0466 4.66%   </span></span>
<span id="cb15-92"><a href="#cb15-92" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb15-93"><a href="#cb15-93" tabindex="-1"></a><span class="co">#&gt; [[1]]$`Value Remaining`</span></span>
<span id="cb15-94"><a href="#cb15-94" tabindex="-1"></a><span class="co">#&gt;        95% </span></span>
<span id="cb15-95"><a href="#cb15-95" tabindex="-1"></a><span class="co">#&gt; 0.01443064 </span></span>
<span id="cb15-96"><a href="#cb15-96" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb15-97"><a href="#cb15-97" tabindex="-1"></a><span class="co">#&gt; [[1]]$`Lift vs Baseline`</span></span>
<span id="cb15-98"><a href="#cb15-98" tabindex="-1"></a><span class="co">#&gt;        30% </span></span>
<span id="cb15-99"><a href="#cb15-99" tabindex="-1"></a><span class="co">#&gt; 0.01252419 </span></span>
<span id="cb15-100"><a href="#cb15-100" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb15-101"><a href="#cb15-101" tabindex="-1"></a><span class="co">#&gt; [[1]]$`Win Probability vs Baseline`</span></span>
<span id="cb15-102"><a href="#cb15-102" tabindex="-1"></a><span class="co">#&gt; # A tibble: 2 × 3</span></span>
<span id="cb15-103"><a href="#cb15-103" tabindex="-1"></a><span class="co">#&gt;   option_name win_prob_raw win_prob</span></span>
<span id="cb15-104"><a href="#cb15-104" tabindex="-1"></a><span class="co">#&gt;   &lt;chr&gt;              &lt;dbl&gt; &lt;chr&gt;   </span></span>
<span id="cb15-105"><a href="#cb15-105" tabindex="-1"></a><span class="co">#&gt; 1 B                 0.922  92.22%  </span></span>
<span id="cb15-106"><a href="#cb15-106" tabindex="-1"></a><span class="co">#&gt; 2 A                 0.0778 7.78%   </span></span>
<span id="cb15-107"><a href="#cb15-107" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb15-108"><a href="#cb15-108" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb15-109"><a href="#cb15-109" tabindex="-1"></a><span class="co">#&gt; [[2]]</span></span>
<span id="cb15-110"><a href="#cb15-110" tabindex="-1"></a><span class="co">#&gt; [[2]]$`Win Probability`</span></span>
<span id="cb15-111"><a href="#cb15-111" tabindex="-1"></a><span class="co">#&gt; # A tibble: 3 × 3</span></span>
<span id="cb15-112"><a href="#cb15-112" tabindex="-1"></a><span class="co">#&gt;   option_name win_prob_raw win_prob</span></span>
<span id="cb15-113"><a href="#cb15-113" tabindex="-1"></a><span class="co">#&gt;   &lt;chr&gt;              &lt;dbl&gt; &lt;chr&gt;   </span></span>
<span id="cb15-114"><a href="#cb15-114" tabindex="-1"></a><span class="co">#&gt; 1 B                 0.726  72.57%  </span></span>
<span id="cb15-115"><a href="#cb15-115" tabindex="-1"></a><span class="co">#&gt; 2 C                 0.229  22.89%  </span></span>
<span id="cb15-116"><a href="#cb15-116" tabindex="-1"></a><span class="co">#&gt; 3 A                 0.0454 4.54%   </span></span>
<span id="cb15-117"><a href="#cb15-117" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb15-118"><a href="#cb15-118" tabindex="-1"></a><span class="co">#&gt; [[2]]$`Value Remaining`</span></span>
<span id="cb15-119"><a href="#cb15-119" tabindex="-1"></a><span class="co">#&gt;        95% </span></span>
<span id="cb15-120"><a href="#cb15-120" tabindex="-1"></a><span class="co">#&gt; 0.01414997 </span></span>
<span id="cb15-121"><a href="#cb15-121" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb15-122"><a href="#cb15-122" tabindex="-1"></a><span class="co">#&gt; [[2]]$`Lift vs Baseline`</span></span>
<span id="cb15-123"><a href="#cb15-123" tabindex="-1"></a><span class="co">#&gt;        30% </span></span>
<span id="cb15-124"><a href="#cb15-124" tabindex="-1"></a><span class="co">#&gt; 0.01266849 </span></span>
<span id="cb15-125"><a href="#cb15-125" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb15-126"><a href="#cb15-126" tabindex="-1"></a><span class="co">#&gt; [[2]]$`Win Probability vs Baseline`</span></span>
<span id="cb15-127"><a href="#cb15-127" tabindex="-1"></a><span class="co">#&gt; # A tibble: 2 × 3</span></span>
<span id="cb15-128"><a href="#cb15-128" tabindex="-1"></a><span class="co">#&gt;   option_name win_prob_raw win_prob</span></span>
<span id="cb15-129"><a href="#cb15-129" tabindex="-1"></a><span class="co">#&gt;   &lt;chr&gt;              &lt;dbl&gt; &lt;chr&gt;   </span></span>
<span id="cb15-130"><a href="#cb15-130" tabindex="-1"></a><span class="co">#&gt; 1 B                 0.924  92.39%  </span></span>
<span id="cb15-131"><a href="#cb15-131" tabindex="-1"></a><span class="co">#&gt; 2 A                 0.0761 7.61%   </span></span>
<span id="cb15-132"><a href="#cb15-132" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb15-133"><a href="#cb15-133" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb15-134"><a href="#cb15-134" tabindex="-1"></a><span class="co">#&gt; [[3]]</span></span>
<span id="cb15-135"><a href="#cb15-135" tabindex="-1"></a><span class="co">#&gt; [[3]]$`Win Probability`</span></span>
<span id="cb15-136"><a href="#cb15-136" tabindex="-1"></a><span class="co">#&gt; # A tibble: 3 × 3</span></span>
<span id="cb15-137"><a href="#cb15-137" tabindex="-1"></a><span class="co">#&gt;   option_name win_prob_raw win_prob</span></span>
<span id="cb15-138"><a href="#cb15-138" tabindex="-1"></a><span class="co">#&gt;   &lt;chr&gt;              &lt;dbl&gt; &lt;chr&gt;   </span></span>
<span id="cb15-139"><a href="#cb15-139" tabindex="-1"></a><span class="co">#&gt; 1 B                 0.993  99.34%  </span></span>
<span id="cb15-140"><a href="#cb15-140" tabindex="-1"></a><span class="co">#&gt; 2 A                 0.0066 0.66%   </span></span>
<span id="cb15-141"><a href="#cb15-141" tabindex="-1"></a><span class="co">#&gt; 3 C                 0      0%      </span></span>
<span id="cb15-142"><a href="#cb15-142" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb15-143"><a href="#cb15-143" tabindex="-1"></a><span class="co">#&gt; [[3]]$`Value Remaining`</span></span>
<span id="cb15-144"><a href="#cb15-144" tabindex="-1"></a><span class="co">#&gt; 95% </span></span>
<span id="cb15-145"><a href="#cb15-145" tabindex="-1"></a><span class="co">#&gt;   0 </span></span>
<span id="cb15-146"><a href="#cb15-146" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb15-147"><a href="#cb15-147" tabindex="-1"></a><span class="co">#&gt; [[3]]$`Lift vs Baseline`</span></span>
<span id="cb15-148"><a href="#cb15-148" tabindex="-1"></a><span class="co">#&gt;         30% </span></span>
<span id="cb15-149"><a href="#cb15-149" tabindex="-1"></a><span class="co">#&gt; 0.008780786 </span></span>
<span id="cb15-150"><a href="#cb15-150" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb15-151"><a href="#cb15-151" tabindex="-1"></a><span class="co">#&gt; [[3]]$`Win Probability vs Baseline`</span></span>
<span id="cb15-152"><a href="#cb15-152" tabindex="-1"></a><span class="co">#&gt; # A tibble: 2 × 3</span></span>
<span id="cb15-153"><a href="#cb15-153" tabindex="-1"></a><span class="co">#&gt;   option_name win_prob_raw win_prob</span></span>
<span id="cb15-154"><a href="#cb15-154" tabindex="-1"></a><span class="co">#&gt;   &lt;chr&gt;              &lt;dbl&gt; &lt;chr&gt;   </span></span>
<span id="cb15-155"><a href="#cb15-155" tabindex="-1"></a><span class="co">#&gt; 1 B                 0.993  99.34%  </span></span>
<span id="cb15-156"><a href="#cb15-156" tabindex="-1"></a><span class="co">#&gt; 2 A                 0.0066 0.66%   </span></span>
<span id="cb15-157"><a href="#cb15-157" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb15-158"><a href="#cb15-158" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb15-159"><a href="#cb15-159" tabindex="-1"></a><span class="co">#&gt; [[4]]</span></span>
<span id="cb15-160"><a href="#cb15-160" tabindex="-1"></a><span class="co">#&gt; [[4]]$`Win Probability`</span></span>
<span id="cb15-161"><a href="#cb15-161" tabindex="-1"></a><span class="co">#&gt; # A tibble: 3 × 3</span></span>
<span id="cb15-162"><a href="#cb15-162" tabindex="-1"></a><span class="co">#&gt;   option_name win_prob_raw win_prob</span></span>
<span id="cb15-163"><a href="#cb15-163" tabindex="-1"></a><span class="co">#&gt;   &lt;chr&gt;              &lt;dbl&gt; &lt;chr&gt;   </span></span>
<span id="cb15-164"><a href="#cb15-164" tabindex="-1"></a><span class="co">#&gt; 1 B                 0.578  57.77%  </span></span>
<span id="cb15-165"><a href="#cb15-165" tabindex="-1"></a><span class="co">#&gt; 2 C                 0.398  39.81%  </span></span>
<span id="cb15-166"><a href="#cb15-166" tabindex="-1"></a><span class="co">#&gt; 3 A                 0.0241 2.41%   </span></span>
<span id="cb15-167"><a href="#cb15-167" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb15-168"><a href="#cb15-168" tabindex="-1"></a><span class="co">#&gt; [[4]]$`Value Remaining`</span></span>
<span id="cb15-169"><a href="#cb15-169" tabindex="-1"></a><span class="co">#&gt;       95% </span></span>
<span id="cb15-170"><a href="#cb15-170" tabindex="-1"></a><span class="co">#&gt; 0.3055693 </span></span>
<span id="cb15-171"><a href="#cb15-171" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb15-172"><a href="#cb15-172" tabindex="-1"></a><span class="co">#&gt; [[4]]$`Lift vs Baseline`</span></span>
<span id="cb15-173"><a href="#cb15-173" tabindex="-1"></a><span class="co">#&gt;       30% </span></span>
<span id="cb15-174"><a href="#cb15-174" tabindex="-1"></a><span class="co">#&gt; 0.1960611 </span></span>
<span id="cb15-175"><a href="#cb15-175" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb15-176"><a href="#cb15-176" tabindex="-1"></a><span class="co">#&gt; [[4]]$`Win Probability vs Baseline`</span></span>
<span id="cb15-177"><a href="#cb15-177" tabindex="-1"></a><span class="co">#&gt; # A tibble: 2 × 3</span></span>
<span id="cb15-178"><a href="#cb15-178" tabindex="-1"></a><span class="co">#&gt;   option_name win_prob_raw win_prob</span></span>
<span id="cb15-179"><a href="#cb15-179" tabindex="-1"></a><span class="co">#&gt;   &lt;chr&gt;              &lt;dbl&gt; &lt;chr&gt;   </span></span>
<span id="cb15-180"><a href="#cb15-180" tabindex="-1"></a><span class="co">#&gt; 1 B                 0.938  93.8%   </span></span>
<span id="cb15-181"><a href="#cb15-181" tabindex="-1"></a><span class="co">#&gt; 2 A                 0.0620 6.2%    </span></span>
<span id="cb15-182"><a href="#cb15-182" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb15-183"><a href="#cb15-183" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb15-184"><a href="#cb15-184" tabindex="-1"></a><span class="co">#&gt; [[5]]</span></span>
<span id="cb15-185"><a href="#cb15-185" tabindex="-1"></a><span class="co">#&gt; [[5]]$`Win Probability`</span></span>
<span id="cb15-186"><a href="#cb15-186" tabindex="-1"></a><span class="co">#&gt; # A tibble: 3 × 3</span></span>
<span id="cb15-187"><a href="#cb15-187" tabindex="-1"></a><span class="co">#&gt;   option_name win_prob_raw win_prob</span></span>
<span id="cb15-188"><a href="#cb15-188" tabindex="-1"></a><span class="co">#&gt;   &lt;chr&gt;              &lt;dbl&gt; &lt;chr&gt;   </span></span>
<span id="cb15-189"><a href="#cb15-189" tabindex="-1"></a><span class="co">#&gt; 1 B                 0.584  58.4%   </span></span>
<span id="cb15-190"><a href="#cb15-190" tabindex="-1"></a><span class="co">#&gt; 2 C                 0.394  39.38%  </span></span>
<span id="cb15-191"><a href="#cb15-191" tabindex="-1"></a><span class="co">#&gt; 3 A                 0.0222 2.22%   </span></span>
<span id="cb15-192"><a href="#cb15-192" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb15-193"><a href="#cb15-193" tabindex="-1"></a><span class="co">#&gt; [[5]]$`Value Remaining`</span></span>
<span id="cb15-194"><a href="#cb15-194" tabindex="-1"></a><span class="co">#&gt;       95% </span></span>
<span id="cb15-195"><a href="#cb15-195" tabindex="-1"></a><span class="co">#&gt; 0.3012504 </span></span>
<span id="cb15-196"><a href="#cb15-196" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb15-197"><a href="#cb15-197" tabindex="-1"></a><span class="co">#&gt; [[5]]$`Lift vs Baseline`</span></span>
<span id="cb15-198"><a href="#cb15-198" tabindex="-1"></a><span class="co">#&gt;       30% </span></span>
<span id="cb15-199"><a href="#cb15-199" tabindex="-1"></a><span class="co">#&gt; 0.2060909 </span></span>
<span id="cb15-200"><a href="#cb15-200" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb15-201"><a href="#cb15-201" tabindex="-1"></a><span class="co">#&gt; [[5]]$`Win Probability vs Baseline`</span></span>
<span id="cb15-202"><a href="#cb15-202" tabindex="-1"></a><span class="co">#&gt; # A tibble: 2 × 3</span></span>
<span id="cb15-203"><a href="#cb15-203" tabindex="-1"></a><span class="co">#&gt;   option_name win_prob_raw win_prob</span></span>
<span id="cb15-204"><a href="#cb15-204" tabindex="-1"></a><span class="co">#&gt;   &lt;chr&gt;              &lt;dbl&gt; &lt;chr&gt;   </span></span>
<span id="cb15-205"><a href="#cb15-205" tabindex="-1"></a><span class="co">#&gt; 1 B                 0.944  94.41%  </span></span>
<span id="cb15-206"><a href="#cb15-206" tabindex="-1"></a><span class="co">#&gt; 2 A                 0.0559 5.59%   </span></span>
<span id="cb15-207"><a href="#cb15-207" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb15-208"><a href="#cb15-208" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb15-209"><a href="#cb15-209" tabindex="-1"></a><span class="co">#&gt; [[6]]</span></span>
<span id="cb15-210"><a href="#cb15-210" tabindex="-1"></a><span class="co">#&gt; [[6]]$`Win Probability`</span></span>
<span id="cb15-211"><a href="#cb15-211" tabindex="-1"></a><span class="co">#&gt; # A tibble: 3 × 3</span></span>
<span id="cb15-212"><a href="#cb15-212" tabindex="-1"></a><span class="co">#&gt;   option_name win_prob_raw win_prob</span></span>
<span id="cb15-213"><a href="#cb15-213" tabindex="-1"></a><span class="co">#&gt;   &lt;chr&gt;              &lt;dbl&gt; &lt;chr&gt;   </span></span>
<span id="cb15-214"><a href="#cb15-214" tabindex="-1"></a><span class="co">#&gt; 1 A                      1 100%    </span></span>
<span id="cb15-215"><a href="#cb15-215" tabindex="-1"></a><span class="co">#&gt; 2 B                      0 0%      </span></span>
<span id="cb15-216"><a href="#cb15-216" tabindex="-1"></a><span class="co">#&gt; 3 C                      0 0%      </span></span>
<span id="cb15-217"><a href="#cb15-217" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb15-218"><a href="#cb15-218" tabindex="-1"></a><span class="co">#&gt; [[6]]$`Value Remaining`</span></span>
<span id="cb15-219"><a href="#cb15-219" tabindex="-1"></a><span class="co">#&gt; 95% </span></span>
<span id="cb15-220"><a href="#cb15-220" tabindex="-1"></a><span class="co">#&gt;   0 </span></span>
<span id="cb15-221"><a href="#cb15-221" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb15-222"><a href="#cb15-222" tabindex="-1"></a><span class="co">#&gt; [[6]]$`Lift vs Baseline`</span></span>
<span id="cb15-223"><a href="#cb15-223" tabindex="-1"></a><span class="co">#&gt; 30% </span></span>
<span id="cb15-224"><a href="#cb15-224" tabindex="-1"></a><span class="co">#&gt;   0 </span></span>
<span id="cb15-225"><a href="#cb15-225" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb15-226"><a href="#cb15-226" tabindex="-1"></a><span class="co">#&gt; [[6]]$`Win Probability vs Baseline`</span></span>
<span id="cb15-227"><a href="#cb15-227" tabindex="-1"></a><span class="co">#&gt; # A tibble: 1 × 3</span></span>
<span id="cb15-228"><a href="#cb15-228" tabindex="-1"></a><span class="co">#&gt;   option_name win_prob_raw win_prob</span></span>
<span id="cb15-229"><a href="#cb15-229" tabindex="-1"></a><span class="co">#&gt;   &lt;chr&gt;              &lt;dbl&gt; &lt;chr&gt;   </span></span>
<span id="cb15-230"><a href="#cb15-230" tabindex="-1"></a><span class="co">#&gt; 1 A                      1 100%    </span></span>
<span id="cb15-231"><a href="#cb15-231" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb15-232"><a href="#cb15-232" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb15-233"><a href="#cb15-233" tabindex="-1"></a><span class="co">#&gt; [[7]]</span></span>
<span id="cb15-234"><a href="#cb15-234" tabindex="-1"></a><span class="co">#&gt; [[7]]$`Win Probability`</span></span>
<span id="cb15-235"><a href="#cb15-235" tabindex="-1"></a><span class="co">#&gt; # A tibble: 3 × 3</span></span>
<span id="cb15-236"><a href="#cb15-236" tabindex="-1"></a><span class="co">#&gt;   option_name win_prob_raw win_prob</span></span>
<span id="cb15-237"><a href="#cb15-237" tabindex="-1"></a><span class="co">#&gt;   &lt;chr&gt;              &lt;dbl&gt; &lt;chr&gt;   </span></span>
<span id="cb15-238"><a href="#cb15-238" tabindex="-1"></a><span class="co">#&gt; 1 B                 0.534  53.38%  </span></span>
<span id="cb15-239"><a href="#cb15-239" tabindex="-1"></a><span class="co">#&gt; 2 C                 0.429  42.9%   </span></span>
<span id="cb15-240"><a href="#cb15-240" tabindex="-1"></a><span class="co">#&gt; 3 A                 0.0373 3.73%   </span></span>
<span id="cb15-241"><a href="#cb15-241" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb15-242"><a href="#cb15-242" tabindex="-1"></a><span class="co">#&gt; [[7]]$`Value Remaining`</span></span>
<span id="cb15-243"><a href="#cb15-243" tabindex="-1"></a><span class="co">#&gt;      95% </span></span>
<span id="cb15-244"><a href="#cb15-244" tabindex="-1"></a><span class="co">#&gt; 336.4168 </span></span>
<span id="cb15-245"><a href="#cb15-245" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb15-246"><a href="#cb15-246" tabindex="-1"></a><span class="co">#&gt; [[7]]$`Lift vs Baseline`</span></span>
<span id="cb15-247"><a href="#cb15-247" tabindex="-1"></a><span class="co">#&gt;      30% </span></span>
<span id="cb15-248"><a href="#cb15-248" tabindex="-1"></a><span class="co">#&gt; 155.9331 </span></span>
<span id="cb15-249"><a href="#cb15-249" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb15-250"><a href="#cb15-250" tabindex="-1"></a><span class="co">#&gt; [[7]]$`Win Probability vs Baseline`</span></span>
<span id="cb15-251"><a href="#cb15-251" tabindex="-1"></a><span class="co">#&gt; # A tibble: 2 × 3</span></span>
<span id="cb15-252"><a href="#cb15-252" tabindex="-1"></a><span class="co">#&gt;   option_name win_prob_raw win_prob</span></span>
<span id="cb15-253"><a href="#cb15-253" tabindex="-1"></a><span class="co">#&gt;   &lt;chr&gt;              &lt;dbl&gt; &lt;chr&gt;   </span></span>
<span id="cb15-254"><a href="#cb15-254" tabindex="-1"></a><span class="co">#&gt; 1 B                 0.906  90.55%  </span></span>
<span id="cb15-255"><a href="#cb15-255" tabindex="-1"></a><span class="co">#&gt; 2 A                 0.0945 9.45%   </span></span>
<span id="cb15-256"><a href="#cb15-256" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb15-257"><a href="#cb15-257" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb15-258"><a href="#cb15-258" tabindex="-1"></a><span class="co">#&gt; [[8]]</span></span>
<span id="cb15-259"><a href="#cb15-259" tabindex="-1"></a><span class="co">#&gt; [[8]]$`Win Probability`</span></span>
<span id="cb15-260"><a href="#cb15-260" tabindex="-1"></a><span class="co">#&gt; # A tibble: 3 × 3</span></span>
<span id="cb15-261"><a href="#cb15-261" tabindex="-1"></a><span class="co">#&gt;   option_name win_prob_raw win_prob</span></span>
<span id="cb15-262"><a href="#cb15-262" tabindex="-1"></a><span class="co">#&gt;   &lt;chr&gt;              &lt;dbl&gt; &lt;chr&gt;   </span></span>
<span id="cb15-263"><a href="#cb15-263" tabindex="-1"></a><span class="co">#&gt; 1 B                 0.534  53.44%  </span></span>
<span id="cb15-264"><a href="#cb15-264" tabindex="-1"></a><span class="co">#&gt; 2 C                 0.432  43.18%  </span></span>
<span id="cb15-265"><a href="#cb15-265" tabindex="-1"></a><span class="co">#&gt; 3 A                 0.0337 3.37%   </span></span>
<span id="cb15-266"><a href="#cb15-266" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb15-267"><a href="#cb15-267" tabindex="-1"></a><span class="co">#&gt; [[8]]$`Value Remaining`</span></span>
<span id="cb15-268"><a href="#cb15-268" tabindex="-1"></a><span class="co">#&gt;       95% </span></span>
<span id="cb15-269"><a href="#cb15-269" tabindex="-1"></a><span class="co">#&gt; 0.3244191 </span></span>
<span id="cb15-270"><a href="#cb15-270" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb15-271"><a href="#cb15-271" tabindex="-1"></a><span class="co">#&gt; [[8]]$`Lift vs Baseline`</span></span>
<span id="cb15-272"><a href="#cb15-272" tabindex="-1"></a><span class="co">#&gt;       30% </span></span>
<span id="cb15-273"><a href="#cb15-273" tabindex="-1"></a><span class="co">#&gt; 0.1576408 </span></span>
<span id="cb15-274"><a href="#cb15-274" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb15-275"><a href="#cb15-275" tabindex="-1"></a><span class="co">#&gt; [[8]]$`Win Probability vs Baseline`</span></span>
<span id="cb15-276"><a href="#cb15-276" tabindex="-1"></a><span class="co">#&gt; # A tibble: 2 × 3</span></span>
<span id="cb15-277"><a href="#cb15-277" tabindex="-1"></a><span class="co">#&gt;   option_name win_prob_raw win_prob</span></span>
<span id="cb15-278"><a href="#cb15-278" tabindex="-1"></a><span class="co">#&gt;   &lt;chr&gt;              &lt;dbl&gt; &lt;chr&gt;   </span></span>
<span id="cb15-279"><a href="#cb15-279" tabindex="-1"></a><span class="co">#&gt; 1 B                 0.911  91.11%  </span></span>
<span id="cb15-280"><a href="#cb15-280" tabindex="-1"></a><span class="co">#&gt; 2 A                 0.0889 8.89%   </span></span>
<span id="cb15-281"><a href="#cb15-281" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb15-282"><a href="#cb15-282" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb15-283"><a href="#cb15-283" tabindex="-1"></a><span class="co">#&gt; [[9]]</span></span>
<span id="cb15-284"><a href="#cb15-284" tabindex="-1"></a><span class="co">#&gt; [[9]]$`Win Probability`</span></span>
<span id="cb15-285"><a href="#cb15-285" tabindex="-1"></a><span class="co">#&gt; # A tibble: 3 × 3</span></span>
<span id="cb15-286"><a href="#cb15-286" tabindex="-1"></a><span class="co">#&gt;   option_name win_prob_raw win_prob</span></span>
<span id="cb15-287"><a href="#cb15-287" tabindex="-1"></a><span class="co">#&gt;   &lt;chr&gt;              &lt;dbl&gt; &lt;chr&gt;   </span></span>
<span id="cb15-288"><a href="#cb15-288" tabindex="-1"></a><span class="co">#&gt; 1 A                      1 100%    </span></span>
<span id="cb15-289"><a href="#cb15-289" tabindex="-1"></a><span class="co">#&gt; 2 B                      0 0%      </span></span>
<span id="cb15-290"><a href="#cb15-290" tabindex="-1"></a><span class="co">#&gt; 3 C                      0 0%      </span></span>
<span id="cb15-291"><a href="#cb15-291" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb15-292"><a href="#cb15-292" tabindex="-1"></a><span class="co">#&gt; [[9]]$`Value Remaining`</span></span>
<span id="cb15-293"><a href="#cb15-293" tabindex="-1"></a><span class="co">#&gt; 95% </span></span>
<span id="cb15-294"><a href="#cb15-294" tabindex="-1"></a><span class="co">#&gt;   0 </span></span>
<span id="cb15-295"><a href="#cb15-295" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb15-296"><a href="#cb15-296" tabindex="-1"></a><span class="co">#&gt; [[9]]$`Lift vs Baseline`</span></span>
<span id="cb15-297"><a href="#cb15-297" tabindex="-1"></a><span class="co">#&gt; 30% </span></span>
<span id="cb15-298"><a href="#cb15-298" tabindex="-1"></a><span class="co">#&gt;   0 </span></span>
<span id="cb15-299"><a href="#cb15-299" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb15-300"><a href="#cb15-300" tabindex="-1"></a><span class="co">#&gt; [[9]]$`Win Probability vs Baseline`</span></span>
<span id="cb15-301"><a href="#cb15-301" tabindex="-1"></a><span class="co">#&gt; # A tibble: 1 × 3</span></span>
<span id="cb15-302"><a href="#cb15-302" tabindex="-1"></a><span class="co">#&gt;   option_name win_prob_raw win_prob</span></span>
<span id="cb15-303"><a href="#cb15-303" tabindex="-1"></a><span class="co">#&gt;   &lt;chr&gt;              &lt;dbl&gt; &lt;chr&gt;   </span></span>
<span id="cb15-304"><a href="#cb15-304" tabindex="-1"></a><span class="co">#&gt; 1 A                      1 100%</span></span></code></pre></div>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
